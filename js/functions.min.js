const queryString=window.location.search,urlParams=new URLSearchParams(queryString),myId=null===urlParams.get("myId")?"":urlParams.get("myId"),myUrl=null===urlParams.get("myUrl")?"":urlParams.get("myUrl"),mainDiv=document.querySelector("main"),apiUrl="hero"==myUrl?"https://oc-p5-api.herokuapp.com/api/teddies/":"http://localhost:3000/api/teddies/";function displayOneCard(array,pend=""){const newOneCard=createEle("div","mainOneCard",["row","align-items-center","my-5"],"","");switch(pend){case"prepend":mainDiv.prepend(newOneCard);break;default:mainDiv.appendChild(newOneCard)}const newImgDiv=createEle("div","",["col-lg-7"],"","",newOneCard);createEle("img","",["img-fluid","rounded","mb-4","mb-lg-0"],{src:array.imageUrl},"",newImgDiv);const newInfoDiv=createEle("div","",["col-lg-5"],"","",newOneCard);createEle("h1","","","","<span>"+array.name+"</span><span>"+array.price/100+" €<span>",newInfoDiv),createEle("p","","","",array.description,newInfoDiv);const newLabel=createEle("label","","",{for:"mainSelect"},"Couleurs disponibles : ",newInfoDiv),newSelect=createEle("select","mainSelect","","","",newLabel);for(let ele of array.colors)createEle("option","","","",ele,newSelect);createEle("a","buttonAddToCart",["btn","btn-primary"],{"data-id":array._id},'<i class="fas fa-cart-plus"></i> Ajouter au panier',newInfoDiv)}async function getOneProduct(pend){await fetch(apiUrl+myId).then(response=>response.json()).then(nounours=>displayOneCard(nounours,pend))}function displayAllCard(array,nb=3){let nbTmp=0,mainProducts=createEle("div","",["row","text-center"],"","",mainDiv);for(let ele of array)if(ele._id!=myId&&nbTmp<nb){const newArticle=createEle("div","",["col-lg-4","col-md-6","mb-4"],"","",mainProducts),newCard=createEle("div","",["card","h-100"],"","",newArticle);createEle("img","",["card-img-top"],{src:ele.imageUrl,alt:ele.name},"",newCard);const newInfoDiv=createEle("div","",["card-body"],"","",newCard);createEle("h2","",["card-title"],"",ele.name,newInfoDiv),createEle("p","",["card-text"],"",ele.description,newInfoDiv);const newFooter=createEle("div","",["card-footer"],"","",newCard);createEle("a",ele._id,["btn","btn-primary"],{href:"product.html?myId="+ele._id},'<i class="far fa-eye"></i> Découvrir !',newFooter),nbTmp++}}async function getAllProducts(nb=""){await fetch(apiUrl).then(response=>response.json()).then(nounours=>displayAllCard(nounours,""!=nb?nb:nounours.length))}function createEle(_type="div",_id="",_class=[],_attribute=[],_content="",_parent){const e=document.createElement(_type);if(""!=_id&&e.setAttribute("id",_id),Array.isArray(_class)&&0!=_class.length)for(let ele of _class)e.classList.add(ele);if(0!=_attribute.length)for(const[key,value]of Object.entries(_attribute))e.setAttribute(key,value);return""!=_content&&(e.innerHTML=_content),void 0!==_parent&&null!=_parent&&_parent.appendChild(e),e}function updateNbrPanier(){const qtePanier=document.getElementById("qtePanier");0==window.localStorage.length?qtePanier.style.visibility="hidden":(qtePanier.style.visibility="visible",qtePanier.innerHTML=window.localStorage.length)}